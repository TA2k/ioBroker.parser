"use strict";(self.webpackChunkiobroker_admin_component_telegram=self.webpackChunkiobroker_admin_component_telegram||[]).push([["src_ParserComponent_jsx"],{87521:function(U,D,f){var w=f(4819),a=f.n(w),R=f(15854),b=f.n(R),I=f(58503),P=f.n(I),s=f(94427),F=f.n(s),E=f(59665),W=f.n(E),n=f(75606),A=f.n(n),k=Object.defineProperty,J=(g,t,l)=>t in g?k(g,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):g[t]=l,y=(g,t,l)=>(J(g,typeof t!="symbol"?t+"":t,l),l),C=(g,t,l)=>new Promise((e,r)=>{var o=u=>{try{i(l.next(u))}catch(v){r(v)}},c=u=>{try{i(l.throw(u))}catch(v){r(v)}},i=u=>u.done?e(u.value):Promise.resolve(u.value).then(o,c);i((l=l.apply(g,t)).next())});const M=g=>({table:{minWidth:400},header:{fontSize:16,fontWeight:"bold"},ok:{color:"#0ba20b"},warn:{color:"#f57d1d"},error:{color:"#c42c3a"},cell:{padding:"6px 3px"},colIndex:{width:20},colActive:{width:50},colName:{width:150},colUrl:{},colRegEx:{},colItem:{width:70},colRole:{width:70,textAlign:"center"},colType:{width:70,textAlign:"center"},colComma:{width:50},colUnit:{width:70},colSubstituteOld:{width:45,textAlign:"center"},colSubstitute:{width:70},colFactor:{width:50},colOffset:{width:50},colInterval:{width:50},colButtons:{width:140,textAlign:"right"},changedRow:{backgroundColor:"#795d5d"},marginRight:{marginRight:10},item:{width:50,marginLeft:10},regex:{width:"calc(100% - 100px)"},dialog:{},testText:{width:"100%",height:150,resize:"none",backgroundColor:g.palette.mode==="dark"?"#333":"#fff",color:g.palette.mode==="dark"?"#fff":"#000"},input:{width:100},resultUpdated:{"& label":{color:g.palette.mode==="dark"?"#fff":"#000",animation:"$blink 1000ms ease-in-out"},"& input":{color:g.palette.mode==="dark"?"#fff":"#000",animation:"$blink 1000ms ease-in-out"}},"@keyframes blink":{"0%":{color:"#00FF00"},"100%":{color:g.palette.mode==="dark"?"#fff":"#000"}}});class N extends n.ConfigGeneric{constructor(t){super(t),y(this,"onObjectChange",(l,e)=>{if(!l)return;const r=JSON.parse(JSON.stringify(this.state.rules)),o=r.findIndex(c=>c.id===l);if(!e)o!==-1&&(r.splice(o,1),this.setState({rules:r}));else{if(o!==-1){if(r[o]={id:l,name:l.substring(this.namespace.length),common:{enabled:e.common.enabled!==!1,role:e.common.role,type:e.common.type,unit:e.common.unit},native:{link:e.native.link,item:e.native.item||0,regex:e.native.regex,interval:e.native.interval,substitute:e.native.substitute,substituteOld:e.native.substituteOld,offset:e.native.offset,factor:e.native.factor,parseHtml:e.native.parseHtml}},JSON.stringify(this.state.rules[o])===JSON.stringify(r[o]))return}else r.push({id:l,name:l.substring(this.namespace.length),common:{enabled:e.common.enabled!==!1,role:e.common.role,type:e.common.type,unit:e.common.unit},native:{link:e.native.link,item:e.native.item||0,regex:e.native.regex,interval:e.native.interval,substitute:e.native.substitute,substituteOld:e.native.substituteOld,offset:e.native.offset,factor:e.native.factor,parseHtml:e.native.parseHtml}});r.sort((c,i)=>c.name.localeCompare(i.name)),this.setState({rules:r})}}),y(this,"onAliveChange",(l,e)=>{l===`system.adapter.${this.namespace}alive`&&this.state.alive!==(e&&e.val||!1)&&this.setState({alive:e?e.val:!1})}),this.state={showEditDialog:null,data:JSON.parse(JSON.stringify(t.data)),rules:null,error:null,showDeleteDialog:null,testText:"Test text",testResult:"",changed:[],resultIndex:0,alive:!1},this.namespace=`${this.props.adapterName}.${this.props.instance}.`,this.testTextRef=a().createRef()}componentDidMount(){super.componentDidMount(),this.props.socket.getObjectViewSystem("state",this.namespace,`${this.namespace}\u9999`).then(t=>this.props.socket.getState(`system.adapter.${this.namespace}alive`).catch(()=>null).then(l=>{const e=Object.keys(t).map(r=>({id:r,name:r.substring(this.namespace.length),common:{enabled:t[r].common.enabled!==!1,role:t[r].common.role,type:t[r].common.type,unit:t[r].common.unit},native:{link:t[r].native.link,item:t[r].native.item||0,regex:t[r].native.regex,interval:t[r].native.interval,substitute:t[r].native.substitute,substituteOld:t[r].native.substituteOld,offset:t[r].native.offset,factor:t[r].native.factor,parseHtml:t[r].native.parseHtml}}));e.sort((r,o)=>r.name.localeCompare(o.name)),this.setState({rules:e,alive:l?l.val:!1}),this.props.socket.subscribeObject(`${this.namespace}*`,this.onObjectChange),this.props.socket.subscribeState(`system.adapter.${this.namespace}*`,this.onAliveChange)}))}componentWillUnmount(){this.props.socket.unsubscribeObject(`${this.namespace}*`,this.onObjectChange),this.props.socket.unsubscribeState(`system.adapter.${this.namespace}*`,this.onAliveChange),this.timerTest&&clearTimeout(this.timerTest),this.timerTest=null}requestData(t){this.state.alive&&this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,"link",t).then(l=>{l&&(l.error?window.alert(l.error):this.setState({testText:l.text||""}))})}renderEditDialog(){if(!this.state.showEditDialog)return null;const t=this.state.showEditDialog;return a().createElement(s.Dialog,{key:"dialog",maxWidth:"lg",fullWidth:!0,open:!0,onClose:()=>{},classes:{paper:this.props.classes.dialog}},a().createElement(s.DialogTitle,null,n.I18n.t("parser_Test regex"),":",a().createElement("span",{style:{fontStyle:"italic",fontWeight:"bold",marginLeft:10}},this.state.showEditDialog.name)),a().createElement(s.DialogContent,null,a().createElement(s.Grid,{container:!0,spacing:2},a().createElement(s.Grid,{item:!0,sm:12},a().createElement(s.FormControl,{variant:"standard",className:this.props.classes.marginRight},a().createElement(s.InputLabel,null,n.I18n.t("parser_Type")),a().createElement(s.Select,{value:t.common.type||"string",onChange:l=>{const e=JSON.parse(JSON.stringify(t));e.common.type=l.target.value,this.setState({showEditDialog:e},()=>this.onTest())},variant:"standard"},a().createElement(s.MenuItem,{value:"boolean"},"boolean"),a().createElement(s.MenuItem,{value:"number"},"number"),a().createElement(s.MenuItem,{value:"string"},"string"),a().createElement(s.MenuItem,{value:"json"},"json"))),t.common.type==="number"?a().createElement(s.FormControlLabel,{control:a().createElement(s.Checkbox,{checked:t.native.substituteOld,onChange:()=>{const l=JSON.parse(JSON.stringify(t));l.native.comma=!l.native.comma,this.setState({showEditDialog:l},()=>this.onTest())}}),label:n.I18n.t("parser_Comma")}):null),a().createElement(s.Grid,{item:!0,sm:12},a().createElement(s.FormControlLabel,{title:n.I18n.t("parser_If new value is not available, let old value unchanged"),className:this.props.classes.marginRight,control:a().createElement(s.Checkbox,{checked:t.native.substituteOld,onChange:()=>{const l=JSON.parse(JSON.stringify(t));l.native.substituteOld=!l.native.substituteOld,this.setState({showEditDialog:l},()=>this.onTest())}}),label:n.I18n.t("parser_Substitute old value")}),t.native.substituteOld?null:a().createElement(s.TextField,{title:n.I18n.t("parser_If new value is not available, use this value"),className:n.Utils.clsx(this.props.classes.marginRight,this.props.classes.input),value:t.native.substitute||"",onChange:l=>{const e=JSON.parse(JSON.stringify(t));e.native.substitute=l.target.value,this.setState({showEditDialog:e},()=>this.onTest())},label:n.I18n.t("parser_Substitute value"),variant:"standard"}),t.common.type==="number"?a().createElement(s.TextField,{className:n.Utils.clsx(this.props.classes.marginRight,this.props.classes.input),value:t.native.factor||1,onChange:l=>{const e=JSON.parse(JSON.stringify(t));e.native.factor=l.target.value,this.setState({showEditDialog:e},()=>this.onTest())},variant:"standard",label:n.I18n.t("parser_Factor")}):null,t.common.type==="number"?a().createElement(s.TextField,{className:n.Utils.clsx(this.props.classes.marginRight,this.props.classes.input),value:t.native.offset||0,onChange:l=>{const e=JSON.parse(JSON.stringify(t));e.native.offset=l.target.value,this.setState({showEditDialog:e},()=>this.onTest())},label:n.I18n.t("parser_Offset"),variant:"standard"}):null,t.common.type==="string"?a().createElement(s.FormControlLabel,{title:n.I18n.t("parser_Convert &#48; => 0 and so on"),className:this.props.classes.marginRight,control:a().createElement(s.Checkbox,{checked:t.native.parseHtml,onChange:()=>{const l=JSON.parse(JSON.stringify(t));l.native.parseHtml=!l.native.parseHtml,this.setState({showEditDialog:l},()=>this.onTest())}}),label:n.I18n.t("parser_Parse HTML text")}):null),a().createElement(s.Grid,{item:!0,sm:12},a().createElement(s.TextField,{value:t.native.regex||"",onChange:l=>{const e=JSON.parse(JSON.stringify(t));e.native.regex=l.target.value,this.setState({showEditDialog:e},()=>this.onTest())},variant:"standard",className:this.props.classes.regex,label:n.I18n.t("parser_RegEx")}),a().createElement(s.TextField,{value:t.native.item||0,type:"number",min:0,onChange:l=>{const e=JSON.parse(JSON.stringify(t));e.native.item=l.target.value,this.setState({showEditDialog:e},()=>this.onTest())},variant:"standard",className:this.props.classes.item,label:n.I18n.t("parser_Item")}),a().createElement(s.Fab,{color:"primary",size:"small",onClick:()=>this.onTest(!0)},a().createElement(E.PlayArrow,null))),a().createElement(s.Grid,{item:!0,sm:12},a().createElement("textarea",{ref:this.testTextRef,className:this.props.classes.testText,value:this.state.testText,onChange:l=>this.setState({testText:l.target.value},()=>this.onTest())})),a().createElement(s.Grid,{item:!0,sm:12},a().createElement(s.TextField,{className:this.props.classes.resultUpdated,key:this.state.resultIndex,variant:"standard",label:n.I18n.t("parser_Result"),value:this.state.testResult.toString(),readOnly:!0,fullWidth:!0})))),a().createElement(s.DialogActions,null,a().createElement(s.Button,{disabled:JSON.stringify(this.state.showEditDialog)===this.state.originalRule,onClick:()=>{const l=JSON.parse(JSON.stringify(this.state.rules)),e=l.findIndex(r=>r.id===t.id);Object.assign(l[e].common,this.state.showEditDialog.common),Object.assign(l[e].native,this.state.showEditDialog.native),this.setState({showEditDialog:null,originalRule:null,rules:l},()=>this.onAutoSave(e))},color:"primary",startIcon:a().createElement(E.Save,null),variant:"contained"},n.I18n.t("ra_Save")),a().createElement(s.Button,{color:"grey",onClick:()=>this.setState({showEditDialog:null,originalRule:null}),variant:"contained",startIcon:a().createElement(E.Close,null)},n.I18n.t("ra_Cancel"))))}checkError(){const t=this.state.rules.findIndex(l=>!l.name);if(t!==-1)return t;for(let l=0;l<this.state.rules.length;l++)for(let e=l+1;e<this.state.rules.length;e++)if(this.state.rules[l].name===this.state.rules[e].name)return e;return!1}onAutoSave(t){const l=[...this.state.changed];l.includes(t)||(l.push(t),this.setState({changed:l})),this.saveTimer&&clearTimeout(this.saveTimer),this.saveTimer=setTimeout(()=>C(this,null,function*(){this.saveTimer=null;for(let e=0;e<this.state.changed.length;e++){const r=this.state.changed[e],o=this.state.rules[r];if(o.name&&!this.state.rules.find((c,i)=>c.name===o.name&&i!==r)){const c=o.id?yield this.props.socket.getObject(o.id):{common:{},native:{},type:"state"},i=JSON.parse(JSON.stringify(c));Object.assign(i.common,o.common),Object.assign(i.native,o.native),o.id!==`${this.namespace}${o.name}`?(o.id&&(yield this.props.socket.delObject(o.id)),yield this.props.socket.setObject(`${this.namespace}${o.name}`,i)):(JSON.stringify(c.common)!==JSON.stringify(i.common)||JSON.stringify(c.native)!==JSON.stringify(i.native))&&(yield this.props.socket.setObject(o.id,i))}}this.setState({changed:[]})}),1e3)}_onChange(t,l,e,r){const o=JSON.parse(JSON.stringify(this.state.rules)),c=l?"native":"common";e==="comma"&&(o[t].common.type="number"),o[t][c][e]=r,this.setState({rules:o},()=>this.onAutoSave(t))}renderRule(t,l,e,r){const o=!t.name||this.state.rules.find((i,u)=>i.name===t.name&&u!==l),c=this.props.classes.cell;return a().createElement(s.TableRow,{key:`${l}_${t.id}`,className:this.state.changed.includes(l)?this.props.classes.changedRow:""},a().createElement(s.TableCell,{className:c},l+1),a().createElement(s.TableCell,{className:c},a().createElement(s.Checkbox,{disabled:o,checked:t.common.enabled,onChange:i=>this._onChange(l,!1,"enabled",i.target.checked)})),a().createElement(s.TableCell,{className:c},a().createElement(s.TextField,{fullWidth:!0,value:t.name,error:!!o,disabled:!t.common.enabled,onChange:i=>{const u=JSON.parse(JSON.stringify(this.state.rules));u[l].name=i.target.value;const v=this.checkError();this.setState({rules:u,error:v},()=>this.onAutoSave(l))},variant:"standard"})),a().createElement(s.TableCell,{className:c},a().createElement(s.TextField,{fullWidth:!0,disabled:o||!t.common.enabled,value:t.native.link,onChange:i=>this._onChange(l,!0,"link",i.target.value),variant:"standard"})),a().createElement(s.TableCell,{className:c},a().createElement(s.TextField,{disabled:o||!t.common.enabled,fullWidth:!0,value:t.native.regex,onChange:i=>this._onChange(l,!0,"regex",i.target.value),variant:"standard"})),a().createElement(s.TableCell,{className:c},a().createElement(s.TextField,{fullWidth:!0,disabled:o||!t.common.enabled,value:t.native.item,type:"number",onChange:i=>this._onChange(l,!0,"item",i.target.value),variant:"standard"})),a().createElement(s.TableCell,{className:c},a().createElement(s.Select,{fullWidth:!0,disabled:o||!t.common.enabled,value:t.common.role||"",onChange:i=>this._onChange(l,!1,"role",i.target.value),variant:"standard"},a().createElement(s.MenuItem,{value:"state"},"default"),a().createElement(s.MenuItem,{value:""},"custom"),a().createElement(s.MenuItem,{value:"temperature"},"temperature"),a().createElement(s.MenuItem,{value:"value"},"value"),a().createElement(s.MenuItem,{value:"blinds"},"blinds"),a().createElement(s.MenuItem,{value:"switch"},"switch"),a().createElement(s.MenuItem,{value:"indicator"},"indicator"))),a().createElement(s.TableCell,{className:c},a().createElement(s.Select,{fullWidth:!0,disabled:o||!t.common.enabled,value:t.common.type||"string",onChange:i=>this._onChange(l,!1,"type",i.target.value),variant:"standard"},a().createElement(s.MenuItem,{value:"boolean"},"boolean"),a().createElement(s.MenuItem,{value:"number"},"number"),a().createElement(s.MenuItem,{value:"string"},"string"),a().createElement(s.MenuItem,{value:"json"},"json"))),e?a().createElement(s.TableCell,{className:c},t.common.type==="number"?a().createElement(s.Checkbox,{disabled:o||!t.common.enabled,checked:!!t.native.comma,onChange:i=>this._onChange(l,!0,"comma",i.target.checked)}):null):null,e?a().createElement(s.TableCell,{className:c},a().createElement(s.TextField,{fullWidth:!0,disabled:o||!t.common.enabled,value:t.common.unit,onChange:i=>this._onChange(l,!1,"unit",i.target.value),variant:"standard"})):null,a().createElement(s.TableCell,{className:c,title:n.I18n.t("parser_If new value is not available, let old value unchanged")},a().createElement(s.Checkbox,{disabled:o||!t.common.enabled,checked:t.native.substituteOld,onChange:i=>this._onChange(l,!0,"substituteOld",i.target.checked)})),r?a().createElement(s.TableCell,{title:n.I18n.t("parser_If new value is not available, use this value"),className:c},t.native.substituteOld?null:a().createElement(s.TextField,{disabled:o||!t.common.enabled,fullWidth:!0,value:t.native.substituteOld?"":t.native.substitute,onChange:i=>this._onChange(l,!0,"substitute",i.target.value),variant:"standard"})):null,e?a().createElement(s.TableCell,{className:c},t.common.type==="number"?a().createElement(s.TextField,{disabled:o||!t.common.enabled,fullWidth:!0,value:t.native.factor,onChange:i=>this._onChange(l,!0,"factor",i.target.value),variant:"standard"}):null):null,e?a().createElement(s.TableCell,{className:c},t.common.type==="number"?a().createElement(s.TextField,{disabled:o||!t.common.enabled,fullWidth:!0,value:t.native.offset,onChange:i=>this._onChange(l,!0,"offset",i.target.value),variant:"standard"}):null):null,a().createElement(s.TableCell,{title:n.I18n.t("parser_Leave it empty if default interval is desired"),className:c},a().createElement(s.TextField,{disabled:o||!t.common.enabled,fullWidth:!0,value:t.native.interval,type:"number",onChange:i=>this._onChange(l,!0,"interval",i.target.value),variant:"standard"})),a().createElement(s.TableCell,{className:c},a().createElement(s.IconButton,{size:"small",disabled:o||!t.common.enabled,onClick:()=>this.setState({showEditDialog:JSON.parse(JSON.stringify(this.state.rules[l])),originalRule:JSON.stringify(this.state.rules[l])},()=>this.requestData(this.state.rules[l].native.link))},a().createElement(E.Edit,null)),a().createElement(s.IconButton,{size:"small",onClick:()=>this.setState({showDeleteDialog:l})},a().createElement(E.Delete,null)),a().createElement(s.IconButton,{size:"small",disabled:o||!t.common.enabled,onClick:()=>C(this,null,function*(){const i=JSON.parse(JSON.stringify(this.state.rules[l]));let u=1,v=i.name;const h=v.match(/(\d+)$/);for(h?(v=v.replace(h[0],""),u=parseInt(h[0],10)+1):v+="_";this.state.rules.find(p=>p[this.props.schema.clone]===v+u.toString());)u++;i.name=v+u.toString(),i.id=`${this.namespace}${i.name}`,yield this.props.socket.setObject(`${this.namespace}${i.name}`,{type:"state",common:t.common,native:t.native})})},a().createElement(E.ContentCopy,null))))}renderDeleteDialog(){return this.state.showDeleteDialog===null?null:a().createElement(n.Confirm,{text:n.I18n.t("parser_Delete rule"),ok:n.I18n.t("ra_Delete"),onClose:t=>C(this,null,function*(){if(t){const l=this.state.rules[this.state.showDeleteDialog].id,e=JSON.parse(JSON.stringify(this.state.rules));e.splice(this.state.showDeleteDialog,1),this.setState({rules:e,showDeleteDialog:null},()=>C(this,null,function*(){l&&(yield this.props.socket.delObject(l))}))}else this.setState({showDeleteDialog:null})})})}onTest(t){this.timerTest&&clearTimeout(this.timerTest),this.timerTest=setTimeout(()=>{let l=this.state.testText,e=this.state.showEditDialog.native.regex,r=this.state.showEditDialog.common.type,o=this.state.showEditDialog.native.comma,c=this.state.showEditDialog.native.offset,i=this.state.showEditDialog.native.item,u=this.state.showEditDialog.native.factor,v=this.state.showEditDialog.native.parseHtml==="true"||this.state.showEditDialog.native.parseHtml===!0,h=this.state.showEditDialog.native.substitute;e||(e=".+"),e[0]==="/"&&(e=e.substring(1,e.length-1)),h!==""&&h!==void 0&&h!==null?(h==="null"&&(h=null),r==="number"?h=parseFloat(h)||0:r==="boolean"&&(h==="true"&&(h=!0),h==="false"&&(h=!1),h=!!h)):h=void 0;try{e=new RegExp(e,i?"g":"")}catch(m){this.setState({testError:m.toString()});return}c=parseFloat(c)||0,u=parseFloat(u)||1,i=(parseInt(i,10)||0)+1,i<0&&(i=1),i>1e3&&(i=1e3),l=(l||"").toString().replace(/\r\n|[\r\n]/g," ");let p;do p=e.exec(l),i--;while(i&&p);if(p){let m;const $=p[1]?p[0].indexOf(p[1]):0;r==="boolean"?m="true":(m=p.length>1?p[1]:p[0],r==="number"&&(o?(m=m.replace(/\./g,""),m=m.replace(",",".")):m=m.replace(/,/g,""),m=m.replace(/\s/g,""),m=parseFloat(m),m*=u,m+=c)),v&&r==="string"&&(m=m==null?"":m.toString(),m=m.replace(/&#(\d+);/g,(O,d)=>String.fromCharCode(d))),this.setState({testResult:m==null?"":m,resultIndex:this.state.resultIndex+1},()=>{const O=p[1]?p[0].indexOf(p[1]):0,d=this.testTextRef.current,S=p.index+O,T=p.index+O+(p[1]?p[1].length:p[0].length);if(d!=null&&d.setSelectionRange){d.focus();const _=d.value;d.value=_.substring(0,T);const x=d.scrollHeight;d.scrollTop=x,d.value=_,d.scrollTop=x-30,d==null||d.setSelectionRange(S,T)}else if(d!=null&&d.createTextRange){const _=d.createTextRange();_.collapse(!0),_.moveEnd("character",T),_.moveStart("character",S),_.select()}else d!=null&&d.selectionStart&&(d.selectionStart=S,d.selectionEnd=T)})}else r==="boolean"?this.setState({testResult:"false",resultIndex:this.state.resultIndex+1}):this.setState({testResult:h==null?"":h,resultIndex:this.state.resultIndex+1})},t?0:1e3)}renderItem(){if(!this.state.rules)return a().createElement(s.LinearProgress,null);const t=this.state.rules.find(r=>r.common.type==="number"),l=this.state.rules.find(r=>!r.native.substituteOld),e=this.props.classes;return a().createElement(s.TableContainer,{component:s.Paper},this.renderEditDialog(),this.renderDeleteDialog(),a().createElement(s.Table,{size:"small"},a().createElement(s.TableHead,null,a().createElement(s.TableRow,null,a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colIndex)}),a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colActive)},n.I18n.t("parser_Active")),a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colName)},n.I18n.t("parser_Name")),a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colUrl)},n.I18n.t("parser_URL or file name")),a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colRegEx)},n.I18n.t("parser_RegEx")),a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colItem)},n.I18n.t("parser_Item")),a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colRole)},n.I18n.t("parser_Role")),a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colType)},n.I18n.t("parser_Type")),t?a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colComma)},n.I18n.t("parser_Comma")):null,t?a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colUnit)},n.I18n.t("parser_Unit")):null,a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colSubstituteOld),title:n.I18n.t("parser_If new value is not available, let old value unchanged")},n.I18n.t("parser_Old")),l?a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colSubstitute),title:n.I18n.t("parser_If new value is not available, use this value")},n.I18n.t("parser_Subs")):null,t?a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colFactor)},n.I18n.t("parser_Factor")):null,t?a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colOffset)},n.I18n.t("parser_Offset")):null,a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colInterval),title:n.I18n.t("parser_Leave it empty if default interval is desired")},n.I18n.t("parser_Interval")),a().createElement(s.TableCell,{className:n.Utils.clsx(e.cell,e.colButtons)},a().createElement(s.Fab,{size:"small",color:"primary",onClick:()=>{const r=JSON.parse(JSON.stringify(this.state.rules));r.push({id:"",name:"",common:{enabled:!0,role:"state",type:"string",unit:"",read:!0,write:!1},native:{link:"",item:0,regex:"",interval:"",substitute:"",substituteOld:!0,offset:0,factor:1}}),this.setState({rules:r})}},a().createElement(E.Add,null))))),a().createElement(s.TableBody,null,this.state.rules.map((r,o)=>this.renderRule(r,o,t,l)))))}}N.propTypes={socket:b().object.isRequired,themeType:b().string,themeName:b().string,style:b().object,className:b().string,data:b().object.isRequired,attr:b().string,schema:b().object,onError:b().func,onChange:b().func},D.Z=(0,I.withStyles)(M)(N)}}]);

//# sourceMappingURL=src_ParserComponent_jsx.f044bf47.chunk.js.map