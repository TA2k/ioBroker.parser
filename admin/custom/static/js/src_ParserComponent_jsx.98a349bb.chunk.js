"use strict";(self.webpackChunkiobroker_admin_component_telegram=self.webpackChunkiobroker_admin_component_telegram||[]).push([["src_ParserComponent_jsx"],{87521:function(P,w,f){var R=f(4819),t=f.n(R),k=f(15854),E=f.n(k),I=f(58503),F=f.n(I),l=f(94427),A=f.n(l),_=f(59665),W=f.n(_),i=f(75606),$=f.n(i),J=Object.defineProperty,M=(v,e,a)=>e in v?J(v,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):v[e]=a,N=(v,e,a)=>(M(v,typeof e!="symbol"?e+"":e,a),a),S=(v,e,a)=>new Promise((s,n)=>{var o=r=>{try{c(a.next(r))}catch(g){n(g)}},m=r=>{try{c(a.throw(r))}catch(g){n(g)}},c=r=>r.done?s(r.value):Promise.resolve(r.value).then(o,m);c((a=a.apply(v,e)).next())});const U=v=>({table:{minWidth:400},header:{fontSize:16,fontWeight:"bold"},ok:{color:"#0ba20b"},warn:{color:"#f57d1d"},error:{color:"#c42c3a"},cell:{padding:"6px 3px"},colIndex:{width:20},colActive:{width:50},colName:{width:150},colUrl:{},colRegEx:{},colItem:{width:70},colRole:{width:70,textAlign:"center"},colType:{width:70,textAlign:"center"},colComma:{width:50},colUnit:{width:70},colSubstituteOld:{width:45,textAlign:"center"},colSubstitute:{width:70},colFactor:{width:50},colOffset:{width:50},colInterval:{width:50},colButtons:{width:140,textAlign:"right"},changedRow:{backgroundColor:"#795d5d"},marginRight:{marginRight:10},item:{width:50,marginLeft:10},regex:{width:"calc(100% - 100px)"},dialog:{},testText:{width:"100%",height:150,resize:"none",backgroundColor:v.palette.mode==="dark"?"#333":"#fff",color:v.palette.mode==="dark"?"#fff":"#000"},input:{width:100},resultUpdated:{"& label":{color:v.palette.mode==="dark"?"#fff":"#000",animation:"$blink 1000ms ease-in-out"},"& input":{color:v.palette.mode==="dark"?"#fff":"#000",animation:"$blink 1000ms ease-in-out"}},"@keyframes blink":{"0%":{color:"#00FF00"},"100%":{color:v.palette.mode==="dark"?"#fff":"#000"}}});class x extends i.ConfigGeneric{constructor(e){super(e),N(this,"onObjectChange",(a,s)=>{if(!a)return;const n=JSON.parse(JSON.stringify(this.state.rules)),o=n.findIndex(m=>m.id===a);if(!s)o!==-1&&(n.splice(o,1),this.setState({rules:n}));else{if(o!==-1){if(n[o]={id:a,name:a.substring(this.namespace.length),common:{enabled:s.common.enabled!==!1,role:s.common.role,type:s.common.type,unit:s.common.unit},native:{link:s.native.link,item:s.native.item||0,regex:s.native.regex,interval:s.native.interval,substitute:s.native.substitute,substituteOld:s.native.substituteOld,offset:s.native.offset,factor:s.native.factor,parseHtml:s.native.parseHtml}},JSON.stringify(this.state.rules[o])===JSON.stringify(n[o]))return}else n.push({id:a,name:a.substring(this.namespace.length),common:{enabled:s.common.enabled!==!1,role:s.common.role,type:s.common.type,unit:s.common.unit},native:{link:s.native.link,item:s.native.item||0,regex:s.native.regex,interval:s.native.interval,substitute:s.native.substitute,substituteOld:s.native.substituteOld,offset:s.native.offset,factor:s.native.factor,parseHtml:s.native.parseHtml}});n.sort((m,c)=>m.name.localeCompare(c.name)),this.setState({rules:n})}}),N(this,"onAliveChange",(a,s)=>{a===`system.adapter.${this.namespace}alive`&&this.state.alive!==(s&&s.val||!1)&&this.setState({alive:s?s.val:!1})}),this.state={showEditDialog:null,data:JSON.parse(JSON.stringify(e.data)),rules:null,error:null,showDeleteDialog:null,testText:"Test text",testResult:"",changed:[],resultIndex:0,alive:!1},this.namespace=`${this.props.adapterName}.${this.props.instance}.`,this.testTextRef=t().createRef()}componentDidMount(){super.componentDidMount(),this.props.socket.getObjectViewSystem("state",this.namespace,`${this.namespace}\u9999`).then(e=>this.props.socket.getState(`system.adapter.${this.namespace}alive`).catch(()=>null).then(a=>{const s=Object.keys(e).map(n=>({id:n,name:n.substring(this.namespace.length),common:{enabled:e[n].common.enabled!==!1,role:e[n].common.role,type:e[n].common.type,unit:e[n].common.unit},native:{link:e[n].native.link,item:e[n].native.item||0,regex:e[n].native.regex,interval:e[n].native.interval,substitute:e[n].native.substitute,substituteOld:e[n].native.substituteOld,offset:e[n].native.offset,factor:e[n].native.factor,parseHtml:e[n].native.parseHtml}}));s.sort((n,o)=>n.name.localeCompare(o.name)),this.setState({rules:s,alive:a?a.val:!1}),this.props.socket.subscribeObject(`${this.namespace}*`,this.onObjectChange),this.props.socket.subscribeState(`system.adapter.${this.namespace}*`,this.onAliveChange)}))}componentWillUnmount(){this.props.socket.unsubscribeObject(`${this.namespace}*`,this.onObjectChange),this.props.socket.unsubscribeState(`system.adapter.${this.namespace}*`,this.onAliveChange),this.timerTest&&clearTimeout(this.timerTest),this.timerTest=null}requestData(e){this.state.alive&&this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,"link",e).then(a=>{a&&(a.error?window.alert(a.error):this.setState({testText:a.text||""}))})}renderEditDialog(){if(!this.state.showEditDialog)return null;const e=this.state.showEditDialog;return t().createElement(l.Dialog,{key:"dialog",maxWidth:"lg",fullWidth:!0,open:!0,onClose:()=>{},classes:{paper:this.props.classes.dialog}},t().createElement(l.DialogTitle,null,i.I18n.t("parser_Test regex"),":",t().createElement("span",{style:{fontStyle:"italic",fontWeight:"bold",marginLeft:10}},this.state.showEditDialog.name)),t().createElement(l.DialogContent,null,t().createElement(l.Grid,{container:!0,spacing:2},t().createElement(l.Grid,{item:!0,sm:12},t().createElement(l.FormControl,{variant:"standard",className:this.props.classes.marginRight},t().createElement(l.InputLabel,null,i.I18n.t("parser_Type")),t().createElement(l.Select,{value:e.common.type||"string",onChange:a=>{const s=JSON.parse(JSON.stringify(e));s.common.type=a.target.value,this.setState({showEditDialog:s},()=>this.onTest())},variant:"standard"},t().createElement(l.MenuItem,{value:"boolean"},"boolean"),t().createElement(l.MenuItem,{value:"number"},"number"),t().createElement(l.MenuItem,{value:"string"},"string"),t().createElement(l.MenuItem,{value:"json"},"json"),t().createElement(l.MenuItem,{value:"array"},"array"))),e.common.type==="number"?t().createElement(l.FormControlLabel,{control:t().createElement(l.Checkbox,{checked:e.native.substituteOld,onChange:()=>{const a=JSON.parse(JSON.stringify(e));a.native.comma=!a.native.comma,this.setState({showEditDialog:a},()=>this.onTest())}}),label:i.I18n.t("parser_Comma")}):null),t().createElement(l.Grid,{item:!0,sm:12},t().createElement(l.FormControlLabel,{title:i.I18n.t("parser_If new value is not available, let old value unchanged"),className:this.props.classes.marginRight,control:t().createElement(l.Checkbox,{checked:e.native.substituteOld,onChange:()=>{const a=JSON.parse(JSON.stringify(e));a.native.substituteOld=!a.native.substituteOld,this.setState({showEditDialog:a},()=>this.onTest())}}),label:i.I18n.t("parser_Substitute old value")}),e.native.substituteOld?null:t().createElement(l.TextField,{title:i.I18n.t("parser_If new value is not available, use this value"),className:i.Utils.clsx(this.props.classes.marginRight,this.props.classes.input),value:e.native.substitute||"",onChange:a=>{const s=JSON.parse(JSON.stringify(e));s.native.substitute=a.target.value,this.setState({showEditDialog:s},()=>this.onTest())},label:i.I18n.t("parser_Substitute value"),variant:"standard"}),e.common.type==="number"?t().createElement(l.TextField,{className:i.Utils.clsx(this.props.classes.marginRight,this.props.classes.input),value:e.native.factor||1,onChange:a=>{const s=JSON.parse(JSON.stringify(e));s.native.factor=a.target.value,this.setState({showEditDialog:s},()=>this.onTest())},variant:"standard",label:i.I18n.t("parser_Factor")}):null,e.common.type==="number"?t().createElement(l.TextField,{className:i.Utils.clsx(this.props.classes.marginRight,this.props.classes.input),value:e.native.offset||0,onChange:a=>{const s=JSON.parse(JSON.stringify(e));s.native.offset=a.target.value,this.setState({showEditDialog:s},()=>this.onTest())},label:i.I18n.t("parser_Offset"),variant:"standard"}):null,e.common.type==="string"?t().createElement(l.FormControlLabel,{title:i.I18n.t("parser_Convert &#48; => 0 and so on"),className:this.props.classes.marginRight,control:t().createElement(l.Checkbox,{checked:e.native.parseHtml,onChange:()=>{const a=JSON.parse(JSON.stringify(e));a.native.parseHtml=!a.native.parseHtml,this.setState({showEditDialog:a},()=>this.onTest())}}),label:i.I18n.t("parser_Parse HTML text")}):null),t().createElement(l.Grid,{item:!0,sm:12},t().createElement(l.TextField,{value:e.native.regex||"",onChange:a=>{const s=JSON.parse(JSON.stringify(e));s.native.regex=a.target.value,this.setState({showEditDialog:s},()=>this.onTest())},variant:"standard",className:this.props.classes.regex,label:i.I18n.t("parser_RegEx")}),e.common.type!=="array"?t().createElement(l.TextField,{value:e.native.item||0,type:"number",min:0,onChange:a=>{const s=JSON.parse(JSON.stringify(e));s.native.item=a.target.value,this.setState({showEditDialog:s},()=>this.onTest())},variant:"standard",className:this.props.classes.item,label:i.I18n.t("parser_Item")}):null,t().createElement(l.Fab,{color:"primary",size:"small",onClick:()=>this.onTest(!0)},t().createElement(_.PlayArrow,null))),t().createElement(l.Grid,{item:!0,sm:12},t().createElement("textarea",{ref:this.testTextRef,className:this.props.classes.testText,value:this.state.testText,onChange:a=>this.setState({testText:a.target.value},()=>this.onTest())})),t().createElement(l.Grid,{item:!0,sm:12},t().createElement(l.TextField,{className:this.props.classes.resultUpdated,key:this.state.resultIndex,variant:"standard",label:i.I18n.t("parser_Result"),value:this.state.testResult.toString(),readOnly:!0,fullWidth:!0})))),t().createElement(l.DialogActions,null,t().createElement(l.Button,{disabled:JSON.stringify(this.state.showEditDialog)===this.state.originalRule,onClick:()=>{const a=JSON.parse(JSON.stringify(this.state.rules)),s=a.findIndex(n=>n.id===e.id);Object.assign(a[s].common,this.state.showEditDialog.common),Object.assign(a[s].native,this.state.showEditDialog.native),this.setState({showEditDialog:null,originalRule:null,rules:a},()=>this.onAutoSave(s))},color:"primary",startIcon:t().createElement(_.Save,null),variant:"contained"},i.I18n.t("ra_Save")),t().createElement(l.Button,{color:"grey",onClick:()=>this.setState({showEditDialog:null,originalRule:null}),variant:"contained",startIcon:t().createElement(_.Close,null)},i.I18n.t("ra_Cancel"))))}checkError(){const e=this.state.rules.findIndex(a=>!a.name);if(e!==-1)return e;for(let a=0;a<this.state.rules.length;a++)for(let s=a+1;s<this.state.rules.length;s++)if(this.state.rules[a].name===this.state.rules[s].name)return s;return!1}onAutoSave(e){const a=[...this.state.changed];a.includes(e)||(a.push(e),this.setState({changed:a})),this.saveTimer&&clearTimeout(this.saveTimer),this.saveTimer=setTimeout(()=>S(this,null,function*(){this.saveTimer=null;for(let s=0;s<this.state.changed.length;s++){const n=this.state.changed[s],o=this.state.rules[n];if(o.name&&!this.state.rules.find((m,c)=>m.name===o.name&&c!==n)){const m=o.id?yield this.props.socket.getObject(o.id):{common:{},native:{},type:"state"},c=JSON.parse(JSON.stringify(m));Object.assign(c.common,o.common),Object.assign(c.native,o.native),o.id!==`${this.namespace}${o.name}`?(o.id&&(yield this.props.socket.delObject(o.id)),yield this.props.socket.setObject(`${this.namespace}${o.name}`,c)):(JSON.stringify(m.common)!==JSON.stringify(c.common)||JSON.stringify(m.native)!==JSON.stringify(c.native))&&(yield this.props.socket.setObject(o.id,c))}}this.setState({changed:[]})}),1e3)}_onChange(e,a,s,n){const o=JSON.parse(JSON.stringify(this.state.rules)),m=a?"native":"common";s==="comma"&&(o[e].common.type="number"),o[e][m][s]=n,this.setState({rules:o},()=>this.onAutoSave(e))}renderRule(e,a,s,n,o){const m=!e.name||this.state.rules.find((r,g)=>r.name===e.name&&g!==a),c=this.props.classes.cell;return t().createElement(l.TableRow,{key:`${a}_${e.id}`,className:this.state.changed.includes(a)?this.props.classes.changedRow:""},t().createElement(l.TableCell,{className:c},a+1),t().createElement(l.TableCell,{className:c},t().createElement(l.Checkbox,{disabled:m,checked:e.common.enabled,onChange:r=>this._onChange(a,!1,"enabled",r.target.checked)})),t().createElement(l.TableCell,{className:c},t().createElement(l.TextField,{fullWidth:!0,value:e.name,error:!!m,disabled:!e.common.enabled,onChange:r=>{const g=JSON.parse(JSON.stringify(this.state.rules));g[a].name=r.target.value;const h=this.checkError();this.setState({rules:g,error:h},()=>this.onAutoSave(a))},variant:"standard"})),t().createElement(l.TableCell,{className:c},t().createElement(l.TextField,{fullWidth:!0,disabled:m||!e.common.enabled,value:e.native.link,onChange:r=>this._onChange(a,!0,"link",r.target.value),variant:"standard"})),t().createElement(l.TableCell,{className:c},t().createElement(l.TextField,{disabled:m||!e.common.enabled,fullWidth:!0,value:e.native.regex,onChange:r=>this._onChange(a,!0,"regex",r.target.value),variant:"standard"})),o?t().createElement(l.TableCell,{className:c},e.common.type!=="array"?t().createElement(l.TextField,{fullWidth:!0,disabled:m||!e.common.enabled,value:e.native.item,type:"number",onChange:r=>this._onChange(a,!0,"item",r.target.value),variant:"standard"}):null):null,t().createElement(l.TableCell,{className:c},t().createElement(l.Select,{fullWidth:!0,disabled:m||!e.common.enabled,value:e.common.role||"",onChange:r=>this._onChange(a,!1,"role",r.target.value),variant:"standard"},t().createElement(l.MenuItem,{value:"state"},"default"),t().createElement(l.MenuItem,{value:""},"custom"),t().createElement(l.MenuItem,{value:"temperature"},"temperature"),t().createElement(l.MenuItem,{value:"value"},"value"),t().createElement(l.MenuItem,{value:"blinds"},"blinds"),t().createElement(l.MenuItem,{value:"switch"},"switch"),t().createElement(l.MenuItem,{value:"indicator"},"indicator"))),t().createElement(l.TableCell,{className:c},t().createElement(l.Select,{fullWidth:!0,disabled:m||!e.common.enabled,value:e.common.type||"string",onChange:r=>this._onChange(a,!1,"type",r.target.value),variant:"standard"},t().createElement(l.MenuItem,{value:"boolean"},"boolean"),t().createElement(l.MenuItem,{value:"number"},"number"),t().createElement(l.MenuItem,{value:"string"},"string"),t().createElement(l.MenuItem,{value:"json"},"json"))),s?t().createElement(l.TableCell,{className:c},e.common.type==="number"?t().createElement(l.Checkbox,{disabled:m||!e.common.enabled,checked:!!e.native.comma,onChange:r=>this._onChange(a,!0,"comma",r.target.checked)}):null):null,s?t().createElement(l.TableCell,{className:c},t().createElement(l.TextField,{fullWidth:!0,disabled:m||!e.common.enabled,value:e.common.unit,onChange:r=>this._onChange(a,!1,"unit",r.target.value),variant:"standard"})):null,t().createElement(l.TableCell,{className:c,title:i.I18n.t("parser_If new value is not available, let old value unchanged")},t().createElement(l.Checkbox,{disabled:m||!e.common.enabled,checked:e.native.substituteOld,onChange:r=>this._onChange(a,!0,"substituteOld",r.target.checked)})),n?t().createElement(l.TableCell,{title:i.I18n.t("parser_If new value is not available, use this value"),className:c},e.native.substituteOld?null:t().createElement(l.TextField,{disabled:m||!e.common.enabled,fullWidth:!0,value:e.native.substituteOld?"":e.native.substitute,onChange:r=>this._onChange(a,!0,"substitute",r.target.value),variant:"standard"})):null,s?t().createElement(l.TableCell,{className:c},e.common.type==="number"?t().createElement(l.TextField,{disabled:m||!e.common.enabled,fullWidth:!0,value:e.native.factor,onChange:r=>this._onChange(a,!0,"factor",r.target.value),variant:"standard"}):null):null,s?t().createElement(l.TableCell,{className:c},e.common.type==="number"?t().createElement(l.TextField,{disabled:m||!e.common.enabled,fullWidth:!0,value:e.native.offset,onChange:r=>this._onChange(a,!0,"offset",r.target.value),variant:"standard"}):null):null,t().createElement(l.TableCell,{title:i.I18n.t("parser_Leave it empty if default interval is desired"),className:c},t().createElement(l.TextField,{disabled:m||!e.common.enabled,fullWidth:!0,value:e.native.interval,type:"number",onChange:r=>this._onChange(a,!0,"interval",r.target.value),variant:"standard"})),t().createElement(l.TableCell,{className:c},t().createElement(l.IconButton,{size:"small",disabled:m||!e.common.enabled,onClick:()=>this.setState({showEditDialog:JSON.parse(JSON.stringify(this.state.rules[a])),originalRule:JSON.stringify(this.state.rules[a])},()=>this.requestData(this.state.rules[a].native.link))},t().createElement(_.Edit,null)),t().createElement(l.IconButton,{size:"small",onClick:()=>this.setState({showDeleteDialog:a})},t().createElement(_.Delete,null)),t().createElement(l.IconButton,{size:"small",disabled:m||!e.common.enabled,onClick:()=>S(this,null,function*(){const r=JSON.parse(JSON.stringify(this.state.rules[a]));let g=1,h=r.name;const C=h.match(/(\d+)$/);for(C?(h=h.replace(C[0],""),g=parseInt(C[0],10)+1):h+="_";this.state.rules.find(p=>p[this.props.schema.clone]===h+g.toString());)g++;r.name=h+g.toString(),r.id=`${this.namespace}${r.name}`,yield this.props.socket.setObject(`${this.namespace}${r.name}`,{type:"state",common:e.common,native:e.native})})},t().createElement(_.ContentCopy,null))))}renderDeleteDialog(){return this.state.showDeleteDialog===null?null:t().createElement(i.Confirm,{text:i.I18n.t("parser_Delete rule"),ok:i.I18n.t("ra_Delete"),onClose:e=>S(this,null,function*(){if(e){const a=this.state.rules[this.state.showDeleteDialog].id,s=JSON.parse(JSON.stringify(this.state.rules));s.splice(this.state.showDeleteDialog,1),this.setState({rules:s,showDeleteDialog:null},()=>S(this,null,function*(){a&&(yield this.props.socket.delObject(a))}))}else this.setState({showDeleteDialog:null})})})}onTest(e){this.timerTest&&clearTimeout(this.timerTest),this.timerTest=setTimeout(()=>{let a=this.state.testText,s=this.state.showEditDialog.native.regex,n=this.state.showEditDialog.common.type,o=this.state.showEditDialog.native.comma,m=this.state.showEditDialog.native.offset,c=this.state.showEditDialog.native.item,r=this.state.showEditDialog.native.factor,g=this.state.showEditDialog.native.parseHtml==="true"||this.state.showEditDialog.native.parseHtml===!0,h=this.state.showEditDialog.native.substitute;s||(s=".+"),s[0]==="/"&&(s=s.substring(1,s.length-1)),h!==""&&h!==void 0&&h!==null?(h==="null"&&(h=null),n==="number"?h=parseFloat(h)||0:n==="boolean"&&(h==="true"&&(h=!0),h==="false"&&(h=!1),h=!!h)):h=void 0;let C;try{C=new RegExp(s,c||n==="array"?"g":"")}catch(u){this.setState({testError:u.toString()});return}m=parseFloat(m)||0,r=parseFloat(r)||1,c=(parseInt(c,10)||0)+1,c<0&&(c=1),c>1e3&&(c=1e3),a=(a||"").toString().replace(/\r\n|[\r\n]/g," ");let p;if(n==="array")p=a.match(C);else do p=C.exec(a),c--;while(c&&p);if(p){let u;if(n==="boolean")u="true";else if(n!=="array")u=p.length>1?p[1]:p[0],n==="number"&&(o?(u=u.replace(/\./g,""),u=u.replace(",",".")):u=u.replace(/,/g,""),u=u.replace(/\s/g,""),u=parseFloat(u),u*=r,u+=m);else{if(s.includes("(")){const O=new RegExp(s);p=p.map(d=>{const b=d.match(O);return b&&b[1]?b[1]:d})}g?u=JSON.stringify(p.map(O=>O.replace(/&#(\d+);/g,(d,b)=>String.fromCharCode(b)))):u=JSON.stringify(p)}g&&n==="string"&&(u=u==null?"":u.toString(),u=u.replace(/&#(\d+);/g,(O,d)=>String.fromCharCode(d))),this.setState({testResult:u==null?"":u,resultIndex:this.state.resultIndex+1},()=>{const O=p[1]?p[0].indexOf(p[1]):0,d=this.testTextRef.current,b=p.index+O,y=p.index+O+(p[1]?p[1].length:p[0].length);if(d!=null&&d.setSelectionRange){d.focus();const T=d.value;d.value=T.substring(0,y);const D=d.scrollHeight;d.scrollTop=D,d.value=T,d.scrollTop=D-30,d==null||d.setSelectionRange(b,y)}else if(d!=null&&d.createTextRange){const T=d.createTextRange();T.collapse(!0),T.moveEnd("character",y),T.moveStart("character",b),T.select()}else d!=null&&d.selectionStart&&(d.selectionStart=b,d.selectionEnd=y)})}else n==="boolean"?this.setState({testResult:"false",resultIndex:this.state.resultIndex+1}):this.setState({testResult:h==null?"":h,resultIndex:this.state.resultIndex+1})},e?0:1e3)}renderItem(){if(!this.state.rules)return t().createElement(l.LinearProgress,null);const e=this.state.rules.find(o=>o.common.type==="number"),a=this.state.rules.find(o=>!o.native.substituteOld),s=this.state.rules.find(o=>o.common.type!=="array"),n=this.props.classes;return t().createElement(l.TableContainer,{component:l.Paper},this.renderEditDialog(),this.renderDeleteDialog(),t().createElement(l.Table,{size:"small"},t().createElement(l.TableHead,null,t().createElement(l.TableRow,null,t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colIndex)}),t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colActive)},i.I18n.t("parser_Active")),t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colName)},i.I18n.t("parser_Name")),t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colUrl)},i.I18n.t("parser_URL or file name")),t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colRegEx)},i.I18n.t("parser_RegEx")),s?t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colItem)},i.I18n.t("parser_Item")):null,t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colRole)},i.I18n.t("parser_Role")),t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colType)},i.I18n.t("parser_Type")),e?t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colComma)},i.I18n.t("parser_Comma")):null,e?t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colUnit)},i.I18n.t("parser_Unit")):null,t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colSubstituteOld),title:i.I18n.t("parser_If new value is not available, let old value unchanged")},i.I18n.t("parser_Old")),a?t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colSubstitute),title:i.I18n.t("parser_If new value is not available, use this value")},i.I18n.t("parser_Subs")):null,e?t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colFactor)},i.I18n.t("parser_Factor")):null,e?t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colOffset)},i.I18n.t("parser_Offset")):null,t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colInterval),title:i.I18n.t("parser_Leave it empty if default interval is desired")},i.I18n.t("parser_Interval")),t().createElement(l.TableCell,{className:i.Utils.clsx(n.cell,n.colButtons)},t().createElement(l.Fab,{size:"small",color:"primary",onClick:()=>{const o=JSON.parse(JSON.stringify(this.state.rules));o.push({id:"",name:"",common:{enabled:!0,role:"state",type:"string",unit:"",read:!0,write:!1},native:{link:"",item:0,regex:"",interval:"",substitute:"",substituteOld:!0,offset:0,factor:1}}),this.setState({rules:o})}},t().createElement(_.Add,null))))),t().createElement(l.TableBody,null,this.state.rules.map((o,m)=>this.renderRule(o,m,e,a,s)))))}}x.propTypes={socket:E().object.isRequired,themeType:E().string,themeName:E().string,style:E().object,className:E().string,data:E().object.isRequired,attr:E().string,schema:E().object,onError:E().func,onChange:E().func},w.Z=(0,I.withStyles)(U)(x)}}]);

//# sourceMappingURL=src_ParserComponent_jsx.98a349bb.chunk.js.map